<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Blue Wave Template</title>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<link href="tooplate_style.css" rel="stylesheet" type="text/css" />
	<!--   Free Website Template by t o o p l a t e . c o m   -->
	<script language="javascript" type="text/javascript">
		function clearText(field)
		{
			if (field.defaultValue == field.value) field.value = '';
			else if (field.value == '') field.value = field.defaultValue;
		}
	</script>
	<script src="./jquery-3.4.1.slim.min.js"></script>
	<script type="text/javascript" src="./app.js"></script>
	<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>

</head>
<body>

<div id="tooplate_wrapper">

	<div id="tooplate_header" >

		<div id="tooplate_menu">
			<ul>
				<li><a href="index.html" class="current">Welcome</a></li>
				<li><a href="gallery.html">Register</a></li>
				<li onclick="gameClick()"><a>Game</a></li>
				<li onclick="settingClick()"><a>Setting</a></li>
				<li><a id="about">About</a></li>
				<li><h4>Iris Dreizenshtok-315790410 , Chen Avraham-205859655</h4></li>

			</ul>

			<div class="cleaner"></div>
		</div> <!-- end of menu -->
		<div class="logo_and_names">
			<img class="logo" src="images/tooplate_logo.png" align="middle"/>
		</div>

	</div> <!-- end of header -->

	<div id="tooplate_middle">
	</div> <!-- end of middle -->

	<div id="tooplate_main">

		<div id="tooplate_content">
				<br>
			</div>

			<div id="content"> 
				 
				<div align="center" id="game" style="display: none">
					<div align="center" class="card">
						<div id="score">
							<label for="lblScore">SCORE:</label>
							<input id="lblScore" type="text" />
						</div>
						<br>
						<div id="time" class="time">
							<label for="lblTime">TIME:</label>
							<input id="lblTime" type="text" />
						</div>
						<br>
					</div>
					<canvas id="canvas" height="600" width="600"></canvas>
			</div>


				<div align="center" id="welcome">
					<button class="button" onclick="registerFunction()"><span>Register</span></button>
					<br/>
					<br/>
					<br/>
					<br/>
					<button class="button" onclick="loginFunction()"><span>Login</span></button>
					<br/>
					<br/>
					<br/>
					<br/>
				</div>


			<div align="center" id="login" style="display: none">
				<div class="popup">
					<h2>Welcome Guest!</h2>
					<br/>
					<p>Please enter your login and password here</p>
					<div>
						<label>Login </label>
						<input type="text" id="username_login" value="" />
					</div>
					<br/>
					<div>
						<label>Password</label>
						<input type="password" id="password_login" value="" />
					</div>
					<br/>
					<button onclick="login()" >Sign up </button>
					<a class="close" href="#close"></a>
					<br/>
					<br/>
					<br/>
				</div>
			</div>


				<div align="center" id="register" style="display: none">
				<div class="popup">
					<h2>Register</h2>
					<br/>
					<p>Please enter your details here</p>
					<br/>
					<form action="" name="registration">
					<div>
						<label for="username_register">Login (Username)</label>
						<input type="text" id="username_register" name="username_register1" value="" />
					</div>
					<br/>
					<div>
						<label for="password_register">Password</label>
						<input type="password" id="password_register" name="password_register1" value="" />
					</div>
					<br/>
					<div>
						<label for="fullName_register">Full Name</label>
						<input type="text" id="fullName_register" name="fullName_register1" value="" />
					</div>
					<br/>
					<div>
						<label for="email_register">Email</label>
						<input type="email" id="email_register" name="email_register1" value="" />
					</div>
					<br/>
					<div>
						<label for="birthdayDate_register">Birthday Date</label>
						<input type="date" id="birthdayDate_register" name="birthdayDate_register1" value="" />
					</div>
					<br/>
					<button id="registerButton" type="submit" value="validate">Sign up </button>
					<br/>
					<br/>
					<br/>
					</form>
				</div>
			</div>

				<!-- The Modal -->
				<div id="myModal" class="modal">

					<!-- Modal content -->
					<div class="modal-content">
						<span class="close1">&times;</span>
						<p class="aboutParagraph">created by: Iris Dreizenshtok & Chen Avraham</p>
						<p class="aboutParagraph">this work is part of second assignment in Web Development Enviroment course. As part of building thos website we used Validate Plugin of JQuery. In Addition, we used a design template. </p>
						<p class="aboutParagraph">the difficulties in this assignment were to understand how the plugin works and how to match it to our use</p>

					</div>

				</div>

				<div id="setting" style="display: none">
					<label for="upTarget">please enter a key of your up move:</label>
					<input id="upTarget" type="text">
					<br>
					<br>
					<label for="downTarget">please enter a key of your down move:</label>
					<input id="downTarget" type="text">
					<br>
					<br>
					<label for="leftTarget">please enter a key of your left move:</label>
					<input id="leftTarget" type="text">
					<br>
					<br>
					<label for="rightTarget">please enter a key of your right move:</label>
					<input id="rightTarget" type="text">
					<br>
					<br>
					<label for="numOfBalls">please enter number of balls:</label>
					<input id="numOfBalls" type="text">
					<br>
					<br>
					<label for="gameTime">please enter game time:</label>
					<input id="gameTime" type="text">
					<br>
					<br>
					<label for="numOfMonsters">please enter number of monsters:</label>
					<input id="numOfMonsters" type="text">
					<br>
					<br>
					<button>update</button>        <button>random values</button>
					<br>
					<br>
				</div>


			</div>
		</div> <!-- end of content -->

	</div>	<!-- end of main -->

	<div id="tooplate_footer">

		this website was made as part of Assignment2 in Web Development Enviroment course.
		<br/>
		For more information contact as: irisdrei7@gmail.com
		<br/>
		<a href="#">PackWomen</a>

	</div> <!-- end of tooplate_footer -->

</div><!-- end of wrapper -->

<script>
	let upKey=38;
	let downKey=40;
	let leftKey=37;
	let rightKey=39;
	$("#upTarget").keydown(function (event) {
		upKey=event.keyCode;
		alert("the key you chose:"+event.key)
	})
	$("#downTarget").keydown(function (event) {
		downKey=event.keyCode;
		alert("the key you chose:"+event.key)
	})
	$("#leftTarget").keydown(function (event) {
		downKey=event.keyCode;
		alert("the key you chose:"+event.key)
	})
	$("#rightTarget").keydown(function (event) {
		downKey=event.keyCode;
		alert("the key you chose:"+event.key)
	})

	let modal = document.getElementById("myModal");

	let btn = document.getElementById("about");

	let span = document.getElementsByClassName("close1")[0];

	btn.onclick = function() {
		modal.style.display = "block";
	}

	span.onclick = function() {
		modal.style.display = "none";
	}

	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function(event) {
		if (event.target == modal) {
			modal.style.display = "none";
		}
	}


	$(document).ready(function () {
		jQuery.validator.addMethod("ContainsAtLeastOneDigit", function (value) {
			return /^[a-z]+[0-9]/i.test(value);
		}, 'Your input must contain at least 1 letter and 1 number');
		jQuery.validator.addMethod("NoDigits", function (value) {
			return /\b[^\d\W]+\b/i.test(value);
		}, 'Your input cant contain digits');
	})

		// Initialize form validation on the registration form.
		// It has the name attribute "registration"
		$("form[name='registration']").validate({
			// Specify validation rules
			rules: {
				// The key name on the left side is the name attribute
				// of an input field. Validation rules are defined
				// on the right side
				username_register1: {
					required: true,
				},
				password_register1: {
					required: true,
					minlength: 6,
					ContainsAtLeastOneDigit: true
				},
				fullName_register1:{
					required: true,
					NoDigits: true
				},
				email_register1: {
					required: true,
					// Specify that email should be validated
					// by the built-in "email" rule
					email: true
				},
				birthdayDate_register1:"required"
			},
			// Specify validation error messages
			messages: {
				username_register1: "Please enter user name",
				password_register1: {
					required: "Please provide a password",
					minlength: "Your password must be at least 6 characters long"
				},
				fullName_register1:{
					required: "Please enter your full name",
					NoDigits: "Your input cant contain digits"
				},
				email_register1: "Please enter a valid email address",
				birthdayDate_register1:"Please enter your birthday date"
			},
			// Make sure the form is submitted to the destination defined
			// in the "action" attribute of the form when valid
			submitHandler: function() {
				store();
			}
		});

		// $("#registerButton").on('click', function () {
		// 	let regex='/\d/';
		// 	let username = document.getElementById('username_register');
		// 	let password = document.getElementById('password_register');
		// 	let fullName=document.getElementById('fullName_register');
		// 	let email=document.getElementById('email_register');
		// 	let birthdayDate=document.getElementById('birthdayDate_register');
		// 	console.log("1")
		// 	if(!username.value){
		// 		alert("you didn't fill user name");
		// 		console.log("2")
		// 	}
		// 	else if(!password.value){
		// 		alert("you didn't fill password");
		// 	}
		// 	else if(!fullName.value){
		// 		alert("you didn't fill full name");
		// 	}
		// 	else if(!email.value){
		// 		alert("you didn't fill email");
		// 	}
		// 	else if(!birthdayDate.value){
		// 		alert("you didn't fill birthday date");
		// 	}
		// 	else{
		// 		if(!password.value.match(/(?=.*\d)(?=.*[A-Za-z]).{6,}/)){
		// 			alert("your password is not valid. it must have at least 6 characters, one letter and one digit")
		// 		}
		// 		else if(!isNaN(fullName.value)){
		// 			console.log(fullName.value)
		// 			alert("you full name can't include digits")
		// 		}
		// 		else if(!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email.value))){
		// 			alert("your email is not valid");
		// 		}
		// 		else{
		// 			console.log("3")
		// 			store();
		// 		}
		// 	}
		// });


	function loginFunction() {
		var x = document.getElementById('welcome');
		if (x.style.display === 'none') {
			x.style.display = 'block';
		} else {
			x.style.display = 'none';
			var y = document.getElementById('login');
			y.style.display='block'
		}
	}
	function registerFunction() {
		var x = document.getElementById('welcome');
		if (x.style.display === 'none') {
			x.style.display = 'block';
		} else {
			x.style.display = 'none';
			var y = document.getElementById('register');
			y.style.display='block'
		}
	}

	//function to store user name and password
	function store () {
		let inputUsername = document.getElementById("username_register") ;
		let inputPassword = document.getElementById("password_register");
		if(inputUsername!= null){
			if(inputPassword!=null) {
				if (localStorage.getItem(inputUsername.value) === null) {
					localStorage.setItem(inputUsername.value, inputPassword.value);
					alert("successful registration")
				}
				else{
					if(localStorage.getItem(inputUsername.value)===inputPassword.value){
						alert("you are already registered")
					}
					else{
						alert("this user name is already in use, please try another name")
					}

				}
			}
			else{
				alert("wrong arguments")
			}
		}
		else{
			alert("wrong arguments")
		}


	};

	//function to sign in
	function login() {
		let inputUsername = document.getElementById("username_login") ;
		let inputPassword = document.getElementById("password_login");
		if ( inputUsername.value != null){
			if(inputPassword.value !=null){
				if(localStorage.getItem(inputUsername.value)!=null){
					if(localStorage.getItem(inputUsername.value)===inputPassword.value){
						alert("successfully signed in")
						var x = document.getElementById('login');
						if (x.style.display === 'none') {
							x.style.display = 'block';
						} else {
							x.style.display = 'none';
							var y = document.getElementById('game');
							y.style.display='block'
						}
					}
					else{
						alert("you don't have an account, please register")
					}
				}
				else{
					alert("you don't have an account, please register")
				}
			}
			else{
				alert("wrong arguments")
			}
		}
		else{
			alert("wrong arguments")
		}

	}

	function gameClick() {
		var welcomeDiv = document.getElementById('welcome');
		if (welcomeDiv.style.display === 'none') {
			welcomeDiv.style.display = 'block';
		} else {
			welcomeDiv.style.display = 'none';
			var y = document.getElementById('game');
			y.style.display='block'
		}
	}
	
	function settingClick() {
		var welcomeDiv = document.getElementById('welcome');
		if (welcomeDiv.style.display === 'none') {
			welcomeDiv.style.display = 'block';
		} else {
			welcomeDiv.style.display = 'none';
			var y = document.getElementById('setting');
			y.style.display='block'
		}
	}

</script>
<!--   Free Website Template by t o o p l a t e . c o m   -->
</body>
</html>